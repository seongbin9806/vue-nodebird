(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{388:function(t,e,n){"use strict";n.r(e);var o=n(329),r=n(6),c=(n(57),n(342)),l=n.n(c),d=n(333),f=n(347),m={components:{InfiniteLoading:l.a,postCard:d.a,postForm:f.a},data:function(){return{}},fetch:function(t){var e=t.store;e.state.post.mainPosts.length||e.dispatch("post/loadPosts")},computed:{me:function(){return this.$store.state.user.me},mainPosts:function(){return this.$store.state.post.mainPosts},page:function(){return this.$store.state.post.page}},methods:{infiniteHandler:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$store.dispatch("post/loadPosts",{});case 3:console.log(e.page),10==e.page?t.complete():t.loaded(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),alert(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}}},h=n(56),component=Object(h.a)(m,(function(){var t=this,e=t._self._c;return e(o.a,[t.me?e("post-form"):t._e(),t._v(" "),e("div",t._l(t.mainPosts,(function(p){return e("post-card",{key:p.id,attrs:{post:p}})})),1),t._v(" "),e("infinite-loading",{attrs:{spinner:"spiral"},on:{infinite:t.infiniteHandler}})],1)}),[],!1,null,null,null);e.default=component.exports}}]);